### 代码

``` java
// 奇链插入偶链
class Solution {
    public ListNode swapPairs(ListNode head) {
        if (head == null || head.next == null)
            return head;
        ListNode h1, t1, h2, t2, p, q;
        h1 = t1 = new ListNode(0);
        h2 = t2 = new ListNode(0);
        boolean flag = true;
        p = head;
        while (p != null) {
            if (flag) {
                t1.next = p;
                t1 = p;
            }
            else {
                t2.next = p;
                t2 = p;
            }
            flag = !flag;
            p = p.next;
        }
        t1.next = null;
        t2.next = null;
        p = h2.next;
        q = h1.next;
        while (p != null) {
            if (p.next == null) {
                p.next = q;
                break;
            }
            else {
                ListNode np = p.next;
                ListNode nq = q.next;
                p.next = q;
                q.next = np;
                p = np;
                q = nq;
            }
        }
        return h2.next;
    }
}
```



### 思路

